<html>
<head>
<title>lordgilman's last.fm album histograms</title>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js"     type="text/javascript"></script>
<script src="js/highcharts.js" type="text/javascript"></script>
<script type="text/javascript">
var unweighted = jQuery.parseJSON('[[1964, 1], [1965, 1], [1966, 1], [1967, 4], [1970, 1], [1972, 1], [1973, 1], [1974, 1], [1977, 2], [1979, 3], [1983, 1], [1984, 2], [1986, 3], [1987, 3], [1988, 3], [1989, 3], [1990, 8], [1991, 5], [1992, 11], [1993, 23], [1994, 14], [1995, 12], [1996, 18], [1997, 16], [1998, 9], [1999, 15], [2000, 21], [2001, 32], [2002, 19], [2003, 33], [2004, 41], [2005, 74], [2006, 111], [2007, 35], [2008, 23], [2009, 16], [2010, 15], [2011, 16]]');
var weighted = jQuery.parseJSON('[[1964, 4], [1966, 32], [1967, 39], [1970, 2], [1972, 4], [1974, 1], [1977, 2], [1979, 53], [1984, 2], [1986, 16], [1987, 11], [1989, 6], [1990, 89], [1991, 37], [1992, 62], [1993, 153], [1994, 72], [1995, 71], [1996, 267], [1997, 52], [1998, 39], [1999, 81], [2000, 84], [2001, 144], [2002, 118], [2003, 230], [2004, 240], [2005, 291], [2006, 353], [2007, 276], [2008, 124], [2009, 88], [2010, 20], [2011, 55]]');
sets = [weighted, unweighted];
for (var set = 0; set < sets.length; set++) {
   for (var i = 0; i < sets[set].length; i++) {
      sets[set][i][0] = Date.UTC(sets[set][i][0], 1, 1);
   }
}
function tooltipper() { return "<b>Year</b>: " + new Date(this.x).getFullYear() + "<br/><b># Albums</b>: " + this.y; };
var unweighted_options = {
    chart: {
        renderTo: 'unweighted_div',
        type: 'column',
    },
    title: {
        text: 'Unweighted album release histogram'
    },
    xAxis: {
       endOnTick: false,
       type: 'datetime',
       title: {
         text: 'Year'
        }
    },
    yAxis: {
       min: 0,
       endOnTick: false,
        title: {
            text: 'Albums'
        }
    },
    tooltip: {formatter: tooltipper},
    legend: {enabled: false},
    series: [{data: unweighted}]
};
var weighted_options = {
    chart: {
        renderTo: 'weighted_div',
        type: 'column',
    },
    title: {
        text: 'Weighted (by plays) album release histogram'
    },
    xAxis: {
       endOnTick: false,
       type: 'datetime',
       title: {
         text: 'Year'
        }
    },
    yAxis: {
       min: 0,
       endOnTick: false,
        title: {
            text: 'Albums'
        }
    },
    tooltip: {formatter: tooltipper},
    legend: {enabled: false},
    series: [{data: weighted}]
};
$(document).ready( function() {
    var weighted_chart = new Highcharts.Chart(weighted_options);
    var unweighted_chart = new Highcharts.Chart(unweighted_options);
});
</script>
</head>
<body>
Here's an example of the output.</br>
Unweighted histogram: if you listen to only one album released in 1998 the bar for 1998 would have a height of 1.</br>
Weighted histogram: if you listen to only one album released in 1998 but you've listened to every song on that album 3 times the bar for 1998 would have a height of 3.</br>
<div id="unweighted_div"></div>
<div id="weighted_div"></div>
</body>
</html>
